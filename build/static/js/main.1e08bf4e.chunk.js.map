{"version":3,"sources":["contexts/AuthContext.js","contexts/UserContext.js","views/auth/Auth.js","services/api.js","views/auth/Login.js","views/auth/Registration.js","views/chat/ChatAdmin.jsx","views/chat/ChatUser.jsx","views/error/Error.js","contexts/TokenContext.js","components/bar/bar.jsx","views/chatMessage/chatMessage.js","App.js","index.js"],"names":["AuthContext","createContext","UserContext","user","setItem","token","localStorage","setItemUser","id","username","role","created_at","fetchToken","getItem","removeToken","removeItem","AuthProvider","_ref","tokenData","children","_useState","useState","_useState2","_slicedToArray","setToken","_jsx","Provider","value","UserProvider","_ref2","userData","_useState3","_useState4","setUser","RequireAuth","_ref5","useAuth","console","log","Navigate","to","replace","RequireAdmin","_ref6","useUser","RequireUser","_ref7","useContext","apiInstance","axios","create","baseURL","headers","interceptors","request","use","config","Promise","resolve","error","reject","response","API","_createClass","_classCallCheck","Login","_asyncToGenerator","_regeneratorRuntime","mark","_callee","data","wrap","_context","prev","next","post","sent","abrupt","stop","_x","apply","arguments","Registration","_callee2","_context2","_x2","GetMe","_callee3","_context3","get","concat","ChatGetAdmin","_ref4","_callee4","_context4","_x3","_x4","ChatGetUser","_callee5","_context5","_x5","_x6","ChatGet","_callee6","_context6","_x7","_x8","CreateMessage","_callee7","_context7","_x9","_x10","navigate","useNavigate","_useState5","_useState6","setError","login","event","me","preventDefault","FormData","currentTarget","password","access_token","t0","detail","message","Box","sx","flexGrow","_jsxs","Link","Container","component","maxWidth","marginTop","display","flexDirection","alignItems","Typography","variant","onSubmit","noValidate","mt","TextField","margin","required","fullWidth","label","name","autoComplete","autoFocus","type","Button","mb","Grid","container","item","register","ChatAdmin","chats","setChats","Date","now","useEffect","fetchData","_me","undefined","interval","setInterval","clearInterval","listChats","map","index","React","Fragment","ListItem","ListItemButton","onClick","params","chat_id","state","ListItemAvatar","Avatar","bgcolor","deepOrange","toUpperCase","ListItemText","primary","secondary","color","last_message","substring","Divider","boxShadow","borderRadius","px","py","List","width","Error","Bar","AppBar","position","Toolbar","mr","ChatBubbleOutlineIcon","messages","text","sender","ChatMessage","input","setInput","setMessages","newMessageSet","useLocation","status","height","overflow","p","Message","user_id","backgroundColor","spacing","xs","size","placeholder","onChange","target","trim","formData","dat","parseInt","append","_ref3","messagesEndRef","useRef","isBot","_messagesEndRef$curre","current","scrollIntoView","behavior","scrollToBottom","Paper","ml","ref","App","fetchUser","document","title","StrictMode","BrowserRouter","Routes","Route","path","element","ChatUser","ReactDOM","createRoot","getElementById","render"],"mappings":"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","file":"static/js/main.1e08bf4e.chunk.js","sourcesContent":["import { createContext } from \"react\";\n\nexport const AuthContext = createContext(null);","import { createContext } from \"react\";\n\nexport const UserContext = createContext({user: {}});","import { useContext, useState } from \"react\";\nimport { useLocation, Navigate } from \"react-router-dom\";\nimport { AuthContext } from \"../../contexts/AuthContext\";\nimport { UserContext } from \"../../contexts/UserContext\";\n\nexport const setItem = (token) => {\n    localStorage.setItem('token', token);\n};\n\nexport const setItemUser = (user) => {\n    localStorage.setItem('user_id', user.id);\n    localStorage.setItem('username', user.username);\n    localStorage.setItem('role', user.role);\n    localStorage.setItem('created_at', user.created_at);\n};\n\nexport const fetchUser = () => {\n    let user = {username: localStorage.getItem('username'),\n            id: localStorage.getItem('user_id'),\n            role: localStorage.getItem('role'),\n            created_at: localStorage.getItem('created_at')\n        }\n        console.log(user)\n    return user;\n};\n\nexport const fetchToken = () => {\n    return localStorage.getItem('token');\n};\n\nexport const removeToken = () => {\n    localStorage.removeItem(\"token\");\n}\n\nexport const AuthProvider = ({ tokenData, children }) => {\n    let [token, setToken] = useState(tokenData);\n    return (\n        <AuthContext.Provider value={{token, setToken}}>\n            {children}\n        </AuthContext.Provider>\n    );\n};\n\nexport const UserProvider = ({ userData, children }) => {\n    let [user, setUser] = useState(userData);\n    return (\n        <UserContext.Provider value={{user, setUser}}>\n            {children}\n        </UserContext.Provider>\n    );\n}\n\nexport function PrivatePath({children}) {\n    let token = useAuth();\n    //console.log(token)\n    if(!token.token || token.token === \"\") {\n        return <Navigate to='/login' replace />\n    }\n    return children\n};\n\nexport function PrivateRoute({...rest}) {\n    let { token } = useAuth();\n    //console.log(token.token)\n    if (!token || token === \"\"){\n        return (\n        <Navigate to='/login' replace/>\n        )\n    };\n    return <Route {...rest} />\n};\n\nexport function RequireAuth({children}) {\n    const token = useAuth();\n    console.log(token)\n    if(!token.token || token.token === \"\") {\n        return <Navigate to='/login' replace />\n    }\n    return children\n\n}\n\nexport function RequireAdmin({children}) {\n    const user = useUser();\n    if (user.user.role === \"guest\"){\n        return <Navigate to='/error' replace />\n    }\n    return children\n}\n\nexport function RequireUser({children}) {\n    const user = useUser();\n    if (user.user.role === \"superuser\"){\n        return <Navigate to='/chat/admin' replace />\n    }\n    return children\n}\n\nexport const useAuth = () => useContext(AuthContext);\nexport const useUser = () => useContext(UserContext);","import axios from \"axios\";\nimport { fetchToken } from \"../views/auth/Auth\";\n\nconst API_SERVER = \"https://wiseapi.ru/\";\n\nconst apiInstance = axios.create({\n    baseURL: API_SERVER,\n    headers: { \"Content-Type\": \"application/json\", \"accept\": \"application/json\" },\n});\n\napiInstance.interceptors.request.use(\n    (config) => {\n        return Promise.resolve(config)\n    },\n    (error) => Promise.reject(error)\n);\n\napiInstance.interceptors.response.use(\n    (response) => Promise.resolve(response),\n    (error) => {\n        return Promise.reject(error);\n    }\n)\n\nclass API {\n    \n    static Login = async (data) => {\n        const response = await apiInstance.post(`login`, data, {\n            headers: {\n                \"Content-Type\": \"application/x-www-form-urlencoded\"}\n            });\n        return response.data;\n    }\n\n    static Registration = async (data) => {\n        const response = await apiInstance.post(`user/create`, data);\n        return response.data;\n    }\n\n    static GetMe = async () => {\n        const response = await apiInstance.get('user/me', {\n            headers: {\n                'Authorization': `Bearer ${fetchToken()}`\n            }\n        });\n        return response;\n    }\n\n    static ChatGetAdmin = async (data, token) => {\n        const response = await apiInstance.get(`chat/admin/${data}`, {\n            headers: {\n                'Authorization': `Bearer ${token}`\n            }\n        });\n        return response;\n    }\n\n    static ChatGetUser = async (data, token) => {\n        const response = await apiInstance.get(`chat/user/${data}`, {\n            headers: {\n                'Authorization': `Bearer ${token}`\n            }\n        });\n        return response;\n    }\n\n    static ChatGet = async (data, token) => {\n        const response = await apiInstance.get(`chat/${data}`, {\n            headers: {\n                'Authorization': `Bearer ${token}`\n            }\n        })\n        return response;\n    }\n\n    static CreateMessage = async (data, token) => {\n        const response = await apiInstance.post(`/chat/message/create`, data, {\n            headers: {\n                'Authorization': `Bearer ${token}`,\n                }\n            });\n        return response.data;\n    }\n}\n\nexport default API;","import React, { Component, useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport { useNavigate } from 'react-router-dom';\nimport { Box, TextField, Button, Container, Typography, FormControlLabel, Checkbox, Grid} from '@mui/material';\n\nimport API from '../../services/api';\n\nimport { fetchToken, setItem, removeToken, useAuth, useUser, setItemUser } from './Auth';\n\n\nexport default function Login() {\n\n  const navigate = useNavigate()\n  const [username, setUsername] = useState('')\n  const [password, setPassword] = useState('')\n  const [error, setError] = useState(null);\n  let token = useAuth(); \n  let user = useUser();\n\n  const login = async (event) => {\n    \n    \n    if (event) {\n      event.preventDefault();\n    }\n    try {\n      const data = new FormData(event.currentTarget);\n      if ((data.get(\"username\") == \"\") & (data.get(\"password\") == \"\")) {\n        return;\n      } \n      console.log('login')\n      console.log({\n        username: data.get(\"username\"),\n        password: data.get(\"password\")\n      })\n      let response = await API.Login({\n        username: data.get(\"username\"),\n        password: data.get(\"password\")\n      });\n      console.log(response.access_token)\n      if (response.access_token) {\n        console.log(response.access_token)\n        token.setToken(response.access_token)\n        setItem(response.access_token)\n        \n\n        let me = await API.GetMe(response.access_token);\n        console.log(me.data)\n        user.setUser(me.data)\n        setItemUser(me.data)\n        //console.log(user.user)\n        setError(null)\n        if (me.data.role === \"superuser\"){\n          navigate('/admin/chat')\n        } else {\n          navigate('/user/chat')\n        }\n        \n      }\n    } catch (e) {\n      removeToken();\n      token.setToken(null);\n      user.setUser({})\n      console.log(e)\n      if (e.response){ \n        setError(e.response.data.detail);\n      }\n      else if (e.request) {\n        setError(e.message)\n      } else {\n        setError(e.message)\n      }\n    }     \n  };\n\n  /*const login = () => {\n    if (username=='' & password ==''){\n      return\n    } else { \n      axios.post('http://127.0.0.1:8002/login', {\n        username: username,\n        password: password\n      })\n      .then(function(response){\n        console.log(response.data.token, 'response.data.token')\n        if(response.data.token){\n          setToken(response.data.token)\n          navigate('/chat');\n        }\n      })\n      .catch(function(error){\n        console.log(error, 'error');\n      })\n    }\n  }*/\n  return(\n    <Box sx={{ flexGrow: 1 }}>\n      {\n        fetchToken() ?\n        (<div>\n          <p>you are logged in</p>\n          <Link to=\"/user/chat\">Click to login</Link>\n          </div>\n          )\n        :\n        (\n          <Container component=\"main\" maxWidth=\"xs\">\n      <Box\n        sx={{  \n          marginTop: 8,\n          display: \"flex\",\n          flexDirection: \"column\",\n          alignItems: \"center\",\n        }}\n      >\n        <Typography component=\"h1\" variant=\"h5\">\n          Sign in\n        </Typography>\n        <Box component=\"form\" onSubmit={login} noValidate sx={{ mt: 1 }}>\n          <TextField\n            margin=\"normal\"\n            required\n            fullWidth\n            id=\"username\"\n            label=\"Username\"\n            name=\"username\"\n            autoComplete=\"username\"\n            autoFocus\n          />\n          <TextField\n            margin=\"normal\"\n            required\n            fullWidth\n            name=\"password\"\n            label=\"Password\"\n            type=\"password\"\n            id=\"password\"\n            autoComplete=\"current-password\"\n          />\n          \n          <Button\n            type=\"submit\"\n            fullWidth\n            variant=\"contained\"\n            sx={{ mt: 3, mb: 2 }}\n          >\n            Sign In\n          </Button>\n          <Grid container>\n            \n            <Grid item>\n              <Link to={'/registration'} variant=\"body2\">\n                {\"Don't have an account? Sign Up\"}\n              </Link>\n            </Grid>\n          </Grid>\n        </Box>\n      </Box>\n    </Container>\n        )\n      }\n      </Box>\n    /*<div style={{minHeight:800, marginTop:30}}>\n      <h1>login page</h1>\n      <div style={{marginTop:30}}>\n      {\n        \n        fetchToken()\n         ?\n         (\n          <div>\n          <p>you are logged in</p>\n          <Link to=\"/chat\">Click to login</Link>\n          </div>\n          ):\n          (\n           \n            <div>\n\n               <form>\n                   <label style={{marginRight: 10 }}>Input Username</label>\n                   <input type='text' onChange={(e)=>setUsername(e.target.value)}/>\n\n                   <label style={{marginRight: 10 }}>Input Password</label>\n                   <input type='text' onChange={(e)=>setPassword(e.target.value)}/>\n\n                   <button type='button' onClick={login}>Login</button>   \n               </form>\n\n            </div>\n        )\n      }\n      </div>\n    </div>  */\n    \n)\n  }","import React, { Component, useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport { useNavigate } from 'react-router-dom';\nimport { Box, TextField, Button, Container, Typography, FormControlLabel, Checkbox, Grid} from '@mui/material';\n\nimport API from '../../services/api';\n\nimport { fetchToken, setItem, removeToken, useAuth, useUser } from './Auth';\n\n\nexport default function Registration() {\n\n  const navigate = useNavigate()\n  const [username, setUsername] = useState('')\n  const [password, setPassword] = useState('')\n  const [error, setError] = useState(null);\n  let token = useAuth(); \n  let user = useUser();\n\n  const register = async (event) => {\n    \n    \n    if (event) {\n      event.preventDefault();\n    }\n    try {\n      const data = new FormData(event.currentTarget);\n      if ((data.get(\"username\") == \"\") & (data.get(\"password\") == \"\")) {\n        return;\n      } \n   \n      let response = await API.Registration({\n        username: data.get(\"username\"),\n        password: data.get(\"password\")\n      });\n      console.log(response)\n      if (response.username) {\n        //console.log(response.access_token)\n        \n        \n        \n        \n        setError(null)\n        navigate('/login')\n      }\n    } catch (e) {\n      \n      if (e.response){ \n        setError(e.response.data.detail);\n      }\n      else if (e.request) {\n        setError(e.message)\n      } else {\n        setError(e.message)\n      }\n      navigate('/registration')\n    }     \n  };\n\n  \n  return(\n    <Box sx={{ flexGrow: 1 }}>\n      {\n        fetchToken() ?\n        (<div>\n          <p>you are logged in</p>\n          <Link to=\"/user/chat\">Click to login</Link>\n          </div>\n          )\n        :\n        (\n          <Container component=\"main\" maxWidth=\"xs\">\n      <Box\n        sx={{  \n          marginTop: 8,\n          display: \"flex\",\n          flexDirection: \"column\",\n          alignItems: \"center\",\n        }}\n      >\n        <Typography component=\"h1\" variant=\"h5\">\n          Sign Up\n        </Typography>\n        <Typography variant=\"subtitle2\">\n          {error}\n        </Typography>\n        <Box component=\"form\" onSubmit={register} noValidate sx={{ mt: 1 }}>\n          <TextField\n            margin=\"normal\"\n            required\n            fullWidth\n            id=\"username\"\n            label=\"Username\"\n            name=\"username\"\n            autoComplete=\"username\"\n            autoFocus\n          />\n          <TextField\n            margin=\"normal\"\n            required\n            fullWidth\n            name=\"password\"\n            label=\"Password\"\n            type=\"password\"\n            id=\"password\"\n            autoComplete=\"current-password\"\n          />\n          \n          <Button\n            type=\"submit\"\n            fullWidth\n            variant=\"contained\"\n            sx={{ mt: 3, mb: 2 }}\n          >\n            Sign Up\n          </Button>\n          \n        </Box>\n      </Box>\n    </Container>\n        )\n      }\n      </Box>\n    \n    \n)\n  }","import React, { Component , useState, useEffect} from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { Container, Box, Typography, Grid, List, ListItem, ListItemText, ListItemButton } from '@mui/material';\nimport ListItemAvatar from '@mui/material/ListItemAvatar';\nimport Avatar from '@mui/material/Avatar';\nimport { deepOrange, deepPurple } from '@mui/material/colors';\nimport Divider from '@mui/material/Divider';\nimport API from '../../services/api';\nimport { useAuth, useUser } from '../auth/Auth';\nimport { ChatModel } from '../../model/ChatModel';\n\nexport default function ChatAdmin() {\n  const navigate = useNavigate()\n  const [chats, setChats] = useState([]);\n  const [time, setTime] = useState(Date.now());\n  let user = useUser();\n  let token = useAuth();\n  \n\n  const handleChatClick = (params) => (event) => {\n    //console.log(params)\n    navigate(\"/admin/chat/messages\", { state: { params } })\n  }\n\n  useEffect(() => {\n    let fetchData = async () => {\n      \n      try {\n        if (user.user.id === undefined){\n          let me = await API.GetMe(token.token);\n          console.log(me.data)\n          user.setUser(me.data)\n          console.log(user)\n          \n        } else {\n          const data = await API.ChatGetAdmin(user.user.id, token.token);\n          setChats(data.data);\n        }\n        \n      } catch(e){\n        console.log(user.user)\n        let me = await API.GetMe(token.token);\n        console.log(token.token)\n        user.setUser(me.data)\n      }\n    }\n    \n    const interval = setInterval(() => fetchData(), 1000);\n    return () => {\n      \n      clearInterval(interval);\n    };\n  }, []);\n  const listChats = chats.map((user, index) => \n  <React.Fragment>\n    <ListItem key={index}>\n    <ListItemButton alignItems=\"flex-start\" onClick={handleChatClick({chat_id: user.id})}>\n      <ListItemAvatar>\n          <Avatar sx={{ bgcolor: deepOrange[500] }}>{user.user.username[0].toUpperCase()}</Avatar>\n      </ListItemAvatar>\n      <ListItemText\n          primary={user.user.username}\n          secondary={\n            <React.Fragment>\n              <Typography\n                sx={{ display: 'inline' }}\n                component=\"span\"\n                variant=\"body2\"\n                color=\"text.primary\"\n              >\n                {user.last_message.username}\n              </Typography>\n              {` - ${user.last_message.message.substring(0, 50)}...`}\n            </React.Fragment>\n          }\n        />\n      \n      \n    </ListItemButton>\n    \n    </ListItem>\n    <Divider  variant=\"inset\" component=\"li\" />\n    </React.Fragment>\n  );\n    return (\n      <Container component=\"main\" maxWidth=\"m\">\n        <Box\n        sx={{\n          boxShadow: 3,\n          borderRadius: 2,\n          px: 4,\n          py: 6,\n          marginTop: 8,\n          display: \"flex\",\n          flexDirection: \"column\",\n          alignItems: \"center\",\n        }}\n      >\n        <Typography component=\"h1\" variant=\"h5\">\n          Chat\n        </Typography>\n        <List sx={{ width: '100%', maxWidth: 460, bgcolor: 'background.paper' }}>\n              {listChats}\n            </List>\n        \n      </Box>\n        </Container>\n    );\n  }","import React, { Component , useState, useEffect} from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { Container, Box, Typography, Grid, List, ListItem, ListItemText, ListItemButton, Button, TextField } from '@mui/material';\nimport ListItemAvatar from '@mui/material/ListItemAvatar';\nimport Avatar from '@mui/material/Avatar';\nimport { deepOrange, deepPurple } from '@mui/material/colors';\nimport Divider from '@mui/material/Divider';\nimport API from '../../services/api';\nimport { useAuth, useUser } from '../auth/Auth';\nimport { ChatModel } from '../../model/ChatModel';\n\nexport default function ChatAdmin() {\n  const navigate = useNavigate()\n  const [chats, setChats] = useState([]);\n  const [time, setTime] = useState(Date.now());\n  const [chat, setChat] = useState({});\n  let user = useUser();\n  let token = useAuth();\n  let user_chats = null\n\n\n  const handleChatClick = (params) => (event) => {\n    //console.log(params)\n    navigate(\"/user/chat/messages\", { state: { params } })\n  }\n\n  useEffect(() => {\n    let fetchData = async () => {\n      \n      try {\n        if (user.user.id === undefined){\n          let me = await API.GetMe(token.token);\n          console.log(me.data)\n          user.setUser(me.data)\n          console.log(user)\n          \n        } else {\n          const data = await API.ChatGetUser(user.user.id, token.token);\n          //console.log(data.data)\n          \n          setChats(data.data);\n        }\n        \n      } catch(e){\n        console.log(e)\n        let me = await API.GetMe(token.token);\n        console.log(token.token)\n        user.setUser(me.data)\n      }\n    }\n    \n    const interval = setInterval(() => fetchData(), 1000);\n    return () => {\n      \n      clearInterval(interval);\n    };\n  }, []);\n  const listChats = chats.map((user, index) => \n  <React.Fragment>\n    <ListItem key={index}>\n    <ListItemButton alignItems=\"flex-start\" onClick={handleChatClick({chat_id: user.id})}>\n      <ListItemAvatar>\n          <Avatar sx={{ bgcolor: deepOrange[500] }}>{user.user.username[0].toUpperCase()}</Avatar>\n      </ListItemAvatar>\n      <ListItemText\n          primary={user.user.username}\n          secondary={\n            <React.Fragment>\n              <Typography\n                sx={{ display: 'inline' }}\n                component=\"span\"\n                variant=\"body2\"\n                color=\"text.primary\"\n              >\n                {user.last_message.username}\n              </Typography>\n              {` - ${user.last_message.message.substring(0, 50)}...`}\n              \n              \n            </React.Fragment>\n          }\n        />\n      \n      \n    </ListItemButton>\n    \n    </ListItem>\n    <Divider  variant=\"inset\" component=\"li\" />\n    </React.Fragment>\n  );\n    return (\n      <Container component=\"main\" maxWidth=\"m\">\n        <Box\n        sx={{\n          boxShadow: 3,\n          borderRadius: 2,\n          px: 4,\n          py: 6,\n          marginTop: 8,\n          display: \"flex\",\n          flexDirection: \"column\",\n          alignItems: \"center\",\n        }}\n      >\n        <Typography component=\"h1\" variant=\"h5\">\n          Chat\n        </Typography>\n        <List sx={{ width: '100%', maxWidth: 460, bgcolor: 'background.paper' }}>\n            {listChats}\n            </List>\n      </Box>\n        </Container>\n    );\n  }","export default function Error(){\n    return (\n        <h4>Permission denied!</h4>\n    )\n}","import { createContext } from \"react\";\n\nexport const TokenContext = createContext();","import { Fragment } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport AppBar from '@mui/material/AppBar';\nimport Box from '@mui/material/Box';\nimport Toolbar from '@mui/material/Toolbar';\nimport Typography from '@mui/material/Typography';\nimport Button from '@mui/material/Button';\nimport IconButton from '@mui/material/IconButton';\nimport MenuIcon from '@mui/icons-material/Menu';\n\nimport ChatBubbleOutlineIcon from '@mui/icons-material/ChatBubbleOutline';\n\nimport { fetchToken, removeToken, useAuth, useUser } from \"../../views/auth/Auth\";\n\n\nexport default function Bar(){\n    const navigate = useNavigate()\n    let token = useAuth(); \n    let user = useUser();\n    const go_login = () => {\n        navigate('/login')\n    };\n\n    const handleWise = () => {\n        if (user.user.role == \"superuser\"){\n            navigate(\"/admin/chat\")\n        } else {\n            navigate(\"user/chat\")\n        }\n    }\n\n    const logout = () => {\n        removeToken()\n        token.setToken(null);\n        user.setUser({})\n        navigate('/login')\n    }\n    return (\n        <Fragment>\n            <Box sx={{ flexGrow: 1 }}>\n            <AppBar position=\"static\">\n                <Toolbar>\n                <Box mr={2}>\n                    <ChatBubbleOutlineIcon />\n                    </Box>\n                <Typography variant=\"h6\" component=\"div\" sx={{ flexGrow: 1 }}>\n                <Button color=\"inherit\" onClick={handleWise}>Wise Chat</Button>\n                </Typography>\n                {\n                fetchToken() ?\n                (<Button color=\"inherit\" onClick={logout}>Logout</Button>):\n                (<Button color=\"inherit\" onClick={go_login}>Login</Button>)\n                }\n                </Toolbar>\n            </AppBar>\n            </Box>\n        </Fragment>\n    )\n}","import React, { Component , useState, useEffect, useRef} from 'react';\nimport { Box, Grid, TextField, Paper, Typography, Button, Avatar} from '@mui/material';\nimport { useLocation, useNavigate } from 'react-router-dom';\nimport { useAuth, useUser, removeToken } from '../auth/Auth';\nimport API from '../../services/api';\n\nconst messages = [\n    { id: 1, text: \"Hi there!\", sender: \"bot\" },\n    { id: 2, text: \"Hello!\", sender: \"user\" },\n    { id: 3, text: \"How can I assist you today?\", sender: \"bot\" },\n  ];\n\nexport default function ChatMessage(){\n  const navigate = useNavigate();\n    const [input, setInput] = useState(\"\");\n    const [messages, setMessages] = useState([]);\n    const [newMessage, newMessageSet] = useState({});\n    let user = useUser();\n    let token = useAuth();\n    \n    const {state} = useLocation();\n    const chat_id = state.params.chat_id;\n    //console.log(chat_id)\n\n    const handleSend = () => {\n        if (input.trim() !== \"\") {\n            newMessageSet()\n            let fetchData = async () => {\n          \n                try {\n                    console.log(user.user.id)\n                    console.log({\n                        chat_id: chat_id,\n                        user_id: parseInt(user.user.id),\n                        message: input\n                    })\n                    let formData = new FormData();\n                        formData.append('chat_id', chat_id);\n                        formData.append('user_id', parseInt(user.user.id));\n                        formData.append('message', input);\n                    const dat = await API.CreateMessage({\n                        chat_id: formData.get(\"chat_id\"),\n                        user_id: formData.get(\"user_id\"),\n                        message: formData.get(\"message\")\n                    }, token.token);\n                    console.log(dat.data)\n                    //setMessages(data.data.messages)\n                    //console.log(messages)\n                    //setChats(data.data);\n                  \n                  \n                } catch(e){\n                  console.log(e)\n                }\n              }\n              fetchData();\n          //console.log(data);\n          //console.log(chat_id);\n          //console.log(user.user.id)\n          setInput(\"\");\n        }\n      };\n\n    const handleInputChange = (event) => {\n        setInput(event.target.value);\n      };\n\n      useEffect(() => {\n        let fetchData = async () => {\n          \n          try {\n            if (user.user.id === undefined){\n              let me = await API.GetMe(token.token);\n              //console.log(me.data)\n              user.setUser(me.data)\n              //console.log(user)\n              \n            } else {\n              const data = await API.ChatGet(chat_id, token.token);\n              //console.log(user.user.id)\n              setMessages(data.data.messages)\n              //console.log(messages)\n              //setChats(data.data);\n            }\n            \n          } catch(e){\n            console.log(e.response.status)\n            if (e.response.status == 401){\n              removeToken()\n              token.setToken(null);\n              user.setUser({})\n              navigate('/login')\n            }\n            //let me = await API.GetMe(token.token);\n            //console.log(token.token)\n            //user.setUser(me.data)\n          }\n        }\n        \n        const interval = setInterval(() => fetchData(), 1000);\n        return () => {\n          \n          clearInterval(interval);\n        };\n      }, [messages]);\n\n\n    return (\n        <Box\n      sx={{\n        height: \"90vh\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        bgcolor: \"grey.200\",\n      }}\n    >\n      <Box sx={{ flexGrow: 1, overflow: \"auto\", p: 2 }}>\n        {messages.map((message) => (\n          <Message key={message.id} message={message} user_id={user.user} />\n        ))}\n      </Box>\n      <Box sx={{ p: 2, backgroundColor: \"background.default\" }}>\n        <Grid container spacing={2}>\n          <Grid item xs={10}>\n            <TextField\n              fullWidth\n              size=\"small\"\n              placeholder=\"Type a message\"\n              variant=\"outlined\"\n              value={input}\n              onChange={handleInputChange}\n            />\n          </Grid>\n          <Grid item xs={2}>\n            <Button\n              fullWidth\n              size=\"large\"\n              color=\"primary\"\n              variant=\"contained\"\n              //endIcon={<SendIcon />}\n              onClick={handleSend}\n            >\n              Send\n            </Button>\n          </Grid>\n        </Grid>\n      </Box>\n    </Box>\n    )\n\n}\n\nconst Message = ({ message , user_id}) => {\n\n  const messagesEndRef = useRef(null)\n  //console.log(user_id)\n    const isBot = 1 == message.user_id;\n    const scrollToBottom = () => {\n      messagesEndRef.current?.scrollIntoView({ behavior: \"smooth\" })\n    }\n  \n    useEffect(() => {\n      scrollToBottom()\n    }, [messages]);\n  \n  \n    return (\n      <Box\n        sx={{\n          display: \"flex\",\n          mb: 2,\n          flexDirection: isBot ? \"row\" : \"row-reverse\",\n          alignItems: \"center\",\n        }}\n      >\n        <Avatar sx={{ bgcolor: isBot ? \"primary.main\" : \"secondary.main\" }}>\n          {user_id.role == \"superuser\" ? (isBot ? \"W\" : \"U\"):(isBot ? \"W\" : user_id.username[0].toUpperCase())}\n          \n        </Avatar>\n        <Paper\n          variant=\"outlined\"\n          sx={{\n            p: 2,\n            ml: isBot ? 1 : 0,\n            mr: isBot ? 0 : 1,\n            backgroundColor: isBot ? \"primary.light\" : \"secondary.light\",\n            borderRadius: isBot ? \"20px 20px 20px 5px\" : \"20px 20px 5px 20px\",\n          }}\n        >\n          <Typography variant=\"body1\">{message.message}</Typography>\n        </Paper>\n        <div ref={messagesEndRef} />\n      </Box>\n    );\n  };\n/*{user_chats === 1 ? \n    (\n        <List sx={{ width: '100%', maxWidth: 460, bgcolor: 'background.paper' }}>\n        {listChats}\n        </List>\n    ) \n    : \n    (\n        <Box\n            sx={{\n                //height: \"50vh\",\n                display: \"flex\",\n                flexDirection: \"column\",\n                bgcolor: \"grey.200\",\n            }}\n            >\n                <Box sx={{ p: 2, backgroundColor: \"background.default\" }}>\n                <Grid container spacing={2}>\n                <Grid item xs={10}>\n                    <TextField\n                    size=\"small\"\n                    fullWidth\n                    placeholder=\"Type a message\"\n                    variant=\"outlined\"\n                    value={'wfewefwef'}\n                    //onChange={handleInputChange}\n                    />\n                </Grid>\n                <Grid item xs={2}>\n                    <Button\n                    fullWidth\n                    color=\"primary\"\n                    variant=\"contained\"\n                    //endIcon={<SendIcon />}\n                    //onClick={handleSend}\n                    >\n                    Send\n                    </Button>\n                </Grid>\n                </Grid>\n            </Box>\n        </Box>\n    )}*/","import React, { Component, useEffect } from 'react';\nimport {Routes, Route, Navigate, BrowserRouter } from \"react-router-dom\"\nimport Login from './views/auth/Login';\nimport Registration from './views/auth/Registration';\nimport ChatAdmin from './views/chat/ChatAdmin';\nimport ChatUser from './views/chat/ChatUser';\nimport Error from './views/error/Error';\nimport { AuthContext } from './contexts/AuthContext';\nimport { TokenContext } from './contexts/TokenContext';\n\nimport { AuthProvider, RequireAdmin, RequireAuth, UserProvider, fetchToken , RequireUser, fetchUser} from './views/auth/Auth';\nimport Bar from './components/bar/bar';\nimport ChatMessage from './views/chatMessage/chatMessage';\n\nexport default function App() {\n  let token = fetchToken();\n  let user = fetchUser();\n\n  useEffect(() => {\n    document.title = \"WISE+\";\n  }, []);\n  \n  return (\n      <React.StrictMode>\n      <BrowserRouter>\n      \n      <AuthProvider tokenData={token}>\n                <UserProvider userData={user}>\n                \n                <Bar />\n              <Routes>\n                  <Route \n                    path='/login/*' \n                    element={<Login/>} />\n                  <Route \n                    path='/registration/*' \n                    element={<Registration/>} />\n                  <Route \n                    path='/admin/chat/*' \n                    element={\n                      <RequireAuth>\n                        <RequireAdmin>\n                          <ChatAdmin/>\n                        </RequireAdmin>\n                      </RequireAuth>\n                      \n                      } />\n\n                  <Route \n                    path='/admin/chat/messages/*' \n                    element={\n                      <RequireAuth>\n                        <RequireAdmin>\n                        <ChatMessage />\n                        </RequireAdmin>\n                      </RequireAuth>\n                      \n                      } />\n                  <Route \n                    path='/user/chat/*' \n                    element={\n                      <RequireAuth>\n                        <RequireUser>\n                          <ChatUser/>\n                        </RequireUser>\n                      </RequireAuth>\n                      \n                      } />\n                  <Route \n                    path='/user/chat/messages/*' \n                    element={\n                      <RequireAuth>\n                        <RequireUser>\n                          <ChatMessage />\n                        </RequireUser>\n                      </RequireAuth>\n                      \n                      } />\n                  <Route path='/error/*' element={<Error/>} />\n                  \n                  <Route path=\"/\" element={<Navigate to=\"/user/chat\" replace />}/>\n              </Routes>\n              </UserProvider>\n              </AuthProvider>\n\n      </BrowserRouter>\n  </React.StrictMode> \n  );\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom/client';\nimport App from './App';\n\nconst root = ReactDOM.createRoot(document.getElementById('root'));\n\nroot.render(\n    <App/>\n);"],"sourceRoot":""}